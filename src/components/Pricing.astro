---
const plans = [
  {
    name: 'Self-Hosted',
    price: 'Free',
    period: 'forever',
    description: 'Perfect for individuals and small teams getting started.',
    features: [
      'Unlimited code completions',
      'All open-source models',
      'OpenAI-compatible API',
      'VS Code & JetBrains extensions',
      'Docker Compose deployment',
      'Community support',
    ],
    cta: 'Get Started',
    ctaHref: '/docs/getting-started',
    highlighted: false,
  },
  {
    name: 'Pro',
    price: '$29',
    period: '/user/month',
    description: 'For teams that need priority support and advanced features.',
    features: [
      'Everything in Self-Hosted',
      'Priority email support',
      'Early access to new features',
      'Private Discord channel',
      'Kubernetes Helm charts',
      'SSO integration (SAML/OIDC)',
    ],
    cta: 'Contact Sales',
    ctaHref: '/contact',
    highlighted: true,
  },
  {
    name: 'Enterprise',
    price: 'Custom',
    period: 'contact us',
    description: 'For organizations with custom requirements and SLAs.',
    features: [
      'Everything in Pro',
      'Dedicated support engineer',
      'Custom SLA (99.9%+ uptime)',
      'On-premise deployment assist',
      'Custom model fine-tuning',
      'Security audit & compliance',
    ],
    cta: 'Contact Sales',
    ctaHref: '/contact',
    highlighted: false,
  },
];
---

<section class="py-24 bg-slate-900" id="pricing">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section header -->
    <div class="text-center max-w-3xl mx-auto mb-16">
      <h2 class="text-3xl sm:text-4xl font-bold text-white mb-4">
        Simple, transparent pricing
      </h2>
      <p class="text-lg text-slate-400">
        Start free with the open-source version. Upgrade for priority support and enterprise features.
      </p>
    </div>

    <!-- Pricing cards -->
    <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
      {plans.map(plan => (
        <div
          class:list={[
            "relative rounded-2xl p-8 flex flex-col",
            plan.highlighted
              ? "bg-gradient-to-b from-blue-500/10 to-violet-500/10 border-2 border-blue-500/50"
              : "bg-slate-800/50 border border-slate-700"
          ]}
        >
          {plan.highlighted && (
            <div class="absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-blue-500 to-violet-500 rounded-full text-sm font-medium text-white">
              Most Popular
            </div>
          )}

          <div class="mb-6">
            <h3 class="text-xl font-bold text-white mb-2">{plan.name}</h3>
            <div class="flex items-baseline gap-1">
              <span class="text-4xl font-bold text-white">{plan.price}</span>
              <span class="text-slate-400">{plan.period}</span>
            </div>
            <p class="mt-3 text-sm text-slate-400">{plan.description}</p>
          </div>

          <ul class="space-y-3 mb-8 flex-1">
            {plan.features.map(feature => (
              <li class="flex items-start gap-3 text-sm">
                <svg class="w-5 h-5 text-green-400 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span class="text-slate-300">{feature}</span>
              </li>
            ))}
          </ul>

          <a
            href={plan.ctaHref}
            class:list={[
              "btn w-full justify-center",
              plan.highlighted ? "btn-primary" : "btn-secondary"
            ]}
          >
            {plan.cta}
          </a>
        </div>
      ))}
    </div>

    <!-- FAQ teaser -->
    <div class="mt-16 text-center">
      <p class="text-slate-400">
        Have questions?
        <a href="/contact" class="text-blue-400 hover:text-blue-300 underline underline-offset-4">
          Contact our sales team
        </a>
      </p>
    </div>
  </div>
</section>
